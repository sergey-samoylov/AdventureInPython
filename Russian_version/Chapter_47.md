## üß† –ì–ª–∞–≤–∞ 47: –≠–≤–æ–ª—é—Ü–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π
*from **Adventure in Python** by Sergey Samoylov*

---

–ß–µ–º –¥–∞–ª—å—à–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞–ª –Ω–∞—à –ì–µ—Ä–æ–π, —Ç–µ–º —è—Å–Ω–µ–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –≤ –º–∏—Ä–µ –∫–æ–¥–∞.  
–û–¥–Ω–∞–∂–¥—ã —É—Ç—Ä–æ–º, —Å—Ç–æ—è –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Ö–æ–ª–º–∞ –∏–∑ –æ–±–ª–æ–º–∫–æ–≤ —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π,  
–æ–Ω –∑–∞–º–µ—Ç–∏–ª –Ω–µ—á—Ç–æ –∑–Ω–∞–∫–æ–º–æ–µ: –∑–∞–º—ã–∫–∞–Ω–∏—è.

‚Äî "–ù–æ —è —É–∂–µ —ç—Ç–æ –≤–∏–¥–µ–ª", ‚Äî —É–¥–∏–≤–∏–ª—Å—è –æ–Ω.

–¢–µ—Ä–º–∏–Ω–∞–ª –∑–∞—à–∏–ø–µ–ª:

**"–î–∞. –ù–æ —Ç–µ–ø–µ—Ä—å —Ç—ã –∏—Ö *–ø–æ–Ω–∏–º–∞–µ—à—å* –∏ —Å–º–æ–∂–µ—à—å –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å."**

---

### üîÅ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: —á—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ?

–ó–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è "–ø–æ–º–Ω–∏—Ç" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Å–≤–æ–µ–π –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏,  
–¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–∞ –æ–±–ª–∞—Å—Ç—å —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:

```python
def make_multiplier(factor: int):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, —É–º–Ω–æ–∂–∞—é—â—É—é —á–∏—Å–ª–æ –Ω–∞ factor."""
    def multiplier(value: int) -> int:
        return value * factor
    return multiplier

double = make_multiplier(2)
print(double(5))  # 10
```

–§—É–Ω–∫—Ü–∏—è `multiplier` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `factor`, –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `make_multiplier`.

---

### üß∞ –ü—Ä–∞–∫—Ç–∏–∫–∞ 1: –ª–æ–≥–≥–µ—Ä —Å –º–µ—Ç–∫–æ–π

```python
def make_logger(tag: str):
    """–°–æ–∑–¥–∞—ë—Ç –ª–æ–≥–≥–µ—Ä —Å –∑–∞–¥–∞–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π."""
    def log(message: str) -> None:
        print(f"[{tag}] {message}")
    return log

error_logger = make_logger("ERROR")
info_logger = make_logger("INFO")

error_logger("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫")
info_logger("–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ")
```

üí° **–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ**: —Ç–∞–∫ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∑–∞–ø–æ–º–Ω–µ–Ω–Ω—ã–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.

---

### üß∞ –ü—Ä–∞–∫—Ç–∏–∫–∞ 2: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–∑–æ–≤–æ–≤

```python
def limit_calls(max_calls: int):
    """–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏."""
    call_count = 0

    def wrapper(func):
        def limited() -> None:
            nonlocal call_count
            if call_count < max_calls:
                call_count += 1
                func()
            else:
                print("–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –≤—ã–∑–æ–≤–æ–≤.")
        return limited

    return wrapper

def greet() -> None:
    print("–ü—Ä–∏–≤–µ—Ç!")

limited_greet = limit_calls(2)(greet)
limited_greet()
limited_greet()
limited_greet()  # –õ–∏–º–∏—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç
```

üéØ **–ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç**:  
–º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`call_count`) –±–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Äî –±–ª–∞–≥–æ–¥–∞—Ä—è –∑–∞–º—ã–∫–∞–Ω–∏—é.

---

### ‚úçÔ∏è –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ç–µ–±—è

–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é `make_power_raiser(base: int)`,  
–∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é.  
–≠—Ç–∞ –≤—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤–æ–¥–∏—Ç—å —á–∏—Å–ª–æ –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Å—Ç–µ–ø–µ–Ω—å.

```python
square = make_power_raiser(2)
print(square(5))  # 25
```

‚û°Ô∏è –†–µ–∞–ª–∏–∑—É–π —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º—ã–∫–∞–Ω–∏—è!

---

[–ì–ª–∞–≤–∞ 48](Chapter_48.md)
