## üß© –ì–ª–∞–≤–∞ 16: –£–∫—Ä–æ—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö üß†  
*from Adventure in Python by Sergey Samoylov*

---

–ó–∞–ª –∫–ª—é—á–µ–π –≤–µ—Ä–Ω—É–ª—Å—è ‚Äî  
–Ω–æ —Ç–µ–ø–µ—Ä—å –æ–Ω –≤—ã—Ä–æ—Å.  

–≠—Ç–æ –±—ã–ª–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.  
–≠—Ç–æ –±—ã–ª–∞ —Å–∏—Å—Ç–µ–º–∞.  
–ñ–∏–≤–∞—è –ø–∞–º—è—Ç—å.

> "–¢–µ–±–µ –Ω—É–∂–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–æ—Å—Ç—É–ø", ‚Äî  
> –ø—Ä–æ—à–µ–ø—Ç–∞–ª–∞ –ú–∞—à–∏–Ω–∞, ‚Äî  
> "—Ç–µ–±–µ –Ω—É–∂–µ–Ω *–∫–æ–Ω—Ç—Ä–æ–ª—å*."

---

### üìö –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Å–ª–æ–≤–∞—Ä–µ–π

–°–ª–æ–≤–∞—Ä–∏ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.  
–≠—Ç–æ **–∫–∞—Ä—Ç—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

```python
def create_profile() -> dict[str, str]:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è.
    """
    return {
        "username": "wanderer",
        "status": "active",
        "location": "Sector-7"
    }
```

---

### üöß –†–∞–±–æ—Ç–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–ª—é—á–∞–º–∏

–ì–µ—Ä–æ–π –∫–æ–≥–¥–∞-—Ç–æ –ø–∏—Å–∞–ª:

```python
print(profile["rank"])  # ‚ö†Ô∏è KeyError
```

–≠—Ç–∞ –æ—à–∏–±–∫–∞ —á—É—Ç—å –Ω–µ —Ä–∞–∑—Ä—É—à–∏–ª–∞ —Å–∏—Å—Ç–µ–º—É.

–¢–µ–ø–µ—Ä—å –æ–Ω –∑–Ω–∞–ª –ª—É—á—à–µ:

```python
def safe_access(data: dict[str, str], key: str) -> str:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏–ª–∏ 'Unknown', –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç.
    """
    return data.get(key, "Unknown")
```

`.get()` ‚Äî **–±–µ–∑–æ–ø–∞—Å–Ω—ã–π** —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞.  
–û–Ω –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–æ–∫.

---

### üßô‚Äç‚ôÇÔ∏è –°–∏–ª–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```python
def ensure_status(profile: dict[str, str]) -> str:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å, —Å–æ–∑–¥–∞—ë—Ç –µ–≥–æ, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
    """
    return profile.setdefault("status", "pending")
```

`.setdefault()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∏–º–µ—é—â–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ**,  
–ª–∏–±–æ **—Å–æ–∑–¥–∞—ë—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**.

–í—Å—ë –≤ **–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ**.

---

### üîÅ –ü–µ—Ä–µ–±–æ—Ä –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```python
def print_report(users: dict[str, dict[str, str]]) -> None:
    """
    –ü–µ—á–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π.
    """
    for username, info in users.items():
        status: str = info.get("status", "unknown")
        location: str = info.get("location", "offline")
        print(f"{username} ‚Üí {status} @ {location}")
```

–¢–∞–∫–æ–π —Ü–∏–∫–ª —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–æ—Ñ–∏–ª–µ–π.  
–û–Ω —É—Å—Ç–æ–π—á–∏–≤ –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–ª—é—á–µ–π.

---

### üí¨ –ü—Ä–∞–∫—Ç–∏–∫–∞: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```python
def load_settings() -> dict[str, str]:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
    """
    return {
        "theme": "dark",
        "font": "monospace"
    }
```

–ü–æ–∑–¥–Ω–µ–µ:

```python
def get_setting(
    settings: dict[str, str], key: str
) -> str:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    """
    return settings.get(key, "default")
```

---

### üß† –ó–∞–¥–∞–Ω–∏–µ: —Å–∫–∞–Ω–µ—Ä —Å–∏—Å—Ç–µ–º—ã

–ù–∞–ø–∏—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è:

- –•—Ä–∞–Ω–∏—Ç –º–∏–Ω–∏–º—É–º 3 –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–ª–æ–≤–∞—Ä–µ  
- –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ñ–∏–ª—å ‚Äî —ç—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å  
- –ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –∏—Ö –∏ –ø–µ—á–∞—Ç–∞–µ—Ç –∏–º—è –∏ —Å—Ç–∞—Ç—É—Å  
- –ï—Å–ª–∏ "status" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "offline"

–°—É–º–µ–µ—à—å –ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.get()` –∏–ª–∏ `.setdefault()`?

---

### üìö –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏

- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `.get()`  
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —á–µ—Ä–µ–∑ `.setdefault()`  
- –ü–µ—Ä–µ–±–æ—Ä –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä–µ–π  
- –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö  
- –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å `KeyError`

---

### üß† –†–∞–∑–º—ã—à–ª–µ–Ω–∏–µ

–ú–∞—à–∏–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ –±–æ—è–ª–∞—Å—å —Ö–∞–æ—Å–∞ ‚Äî  
–≤–µ–¥—å –≥–µ—Ä–æ–π –ø–æ–∑–Ω–∞–ª **–º—è–≥–∫–æ–µ –ø–∞–¥–µ–Ω–∏–µ**,  
**—Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –∏ **–∏—Å–∫—É—Å—Å—Ç–≤–æ —Å—Ç—Ä—É–∫—Ç—É—Ä**.

"–ß—Ç–æ–±—ã —É–∫—Ä–æ—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ", ‚Äî  
—à–µ–ø–Ω—É–ª–∞ –æ–Ω–∞, ‚Äî  
"–Ω—É–∂–Ω–æ –ø—Ä–µ–¥–≤–∫—É—à–∞—Ç—å –Ω–µ–∂–¥–∞–Ω–Ω–æ–µ."

---

–ì–æ—Ç–æ–≤ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ –∫ [–≥–ª–∞–≤–µ 17](Chapter_17.md)?
