### ⚖️ Глава 40: Понимание `is` и `==`  
*from **Adventure in Python** by Sergey Samoylov*

---

Путь разветвился.

Одна тропа вела к зеркалу,  
а другая — к отражению этого зеркала.

Герой замер.

> — Что из этого настоящее? — спросил он.  
> Спутник улыбнулся.  
> — Зависит от того, как ты сравниваешь.

---

### 🤔 Равенство и идентичность

В Python есть **два** способа сравнивать значения:

- `==` → **равенство** (Одинаковы ли значения?)  
- `is` → **идентичность** (Это один и тот же объект?)

---

### 🎭 `==` — Проверка на равенство значений

Сравнивает **содержимое** объектов.

```python
a = [1, 2, 3]
b = [1, 2, 3]

print(a == b)  # ✅ True: содержимое одинаковое
```

---

### 🔍 `is` — Проверка на идентичность

Сравнивает **объекты** — ссылаются ли переменные на одно и то же.

```python
print(a is b)  # ❌ False: разные списки
```

Даже если объекты выглядят одинаково —  
это могут быть разные экземпляры.

---

### 🔁 Но... Иногда они совпадают

Для простых объектов, таких как числа или короткие строки,  
Python может использовать один и тот же объект для оптимизации:

```python
x = "Hi"
y = "Hi"
print(x is y)  # ✅ True (одна и та же строка)

n = 5
m = 5
print(n is m)  # ✅ True
```

Но не стоит полагаться на это поведение.

---

### 🧠 Почему это важно

Если ты используешь `is`,  
а имел в виду `==`,  
можно получить неожиданный результат.

Особенно это важно при работе с:

- списками  
- словарями  
- экземплярами классов

---

### 🧪 Быстрый тест

```python
def compare(a: object, b: object) -> None:
    print(f"a == b: {a == b}")
    print(f"a is b: {a is b}")
```

Попробуй:

- `compare([1, 2], [1, 2])`  
- `compare("text", "text")`  
- `compare(True, 1)`

---

### 🧠 Задание: Клон или тень?

Напиши функцию `show_identity()`,  
которая принимает две переменные и выводит:

- их значения  
- равны ли они (`==`)  
- идентичны ли (`is`)  
- их `id()`

Затем попробуй:

```python
a = [42]
b = a
c = [42]

show_identity(a, b)
show_identity(a, c)
```

Что меняется? А что остаётся?

---

Герой вошёл в отражение.  
Он увидел достаточно.

> — Важно не только выглядеть одинаково, —  
> прошептал он.  
> — Важно *быть*.

[Глава 41](Chapter_41.md)
